# Blocking vs Non-Blocking & Sync vs Async

### 💯 Blocking == Sync, Non-Blocking == Async 라는 개념으로 이해하는 경우가 있지만, 사실 이 둘은 제어권이 있는지, 결과값을 기다리는지 보는 관점이 다른 개념입니다.

## Blocking

블로킹은 작업을 요청했을 때 해당 작업이 완료될 때까지 기다리는 것을 의미합니다. 이 기간 동안, 요청을 한 주체(예: 스레드)는 다른 어떤 작업도 수행하지 못하고 대기 상태가 됩니다. 즉, 요청한 작업이 끝날 때까지 제어권을 반환 받지 못합니다.

## Non - Blocking

논블로킹은 요청과 관계없이 즉시 제어권을 반환받는 것을 의미합니다. 작업을 요청했을 때 작업이 완료되었는지 여부와 상관없이, 즉각 다른 작업을 진행할 수 있습니다.

## Sync

동기 방식에서는 작업들이 순차적으로 실행됩니다. 한 작업의 시작은 이전 작업의 종료와 동시에 일어나며, 요청을 한 주체는 결과를 기다리면서 대기하게 됩니다.

## Async

비동기 방식에서는 작업의 시작과 종료가 일치하지 않습니다. 요청을 한 주체는 작업을 요청하고, 그 작업이 끝나는 동안 다른 작업을 계속 진행할 수 있습니다.

## 4가지 유형을 설명하는 표

다음은 Blocking vs Non-Blocking & Sync vs Async 자료를 찾게 되면 항상 마주치게 되는 표입니다.

| 분류         | Blocking                       | Non-Blocking        |
| ------------ | ------------------------------ | ------------------- |
| Synchronous  | Read / Write                   | Read/Write(Polling) |
| Asynchronous | I/O Multiplexing(Slect / Poll) | Asynchronouse I/O   |

- Synchronous Blocking I/O: 프로그램이 데이터를 읽거나 쓸 때까지 기다려야 하는 전통적인 I/O 모델입니다. 이 모델에서는 I/O 작업이 완료될 때까지 프로그램의 실행이 멈춥니다.
- Synchronous Non-Blocking I/O : 프로그램이 데이터를 읽거나 쓰는 요청을 하고 즉시 제어권을 반환받아 다른 작업을 계속할 수 있는 I/O 모델입니다. 데이터가 준비되지 않았을 때는 특별한 값(ex: 에러 코드)을 받아서 데이터가 준비될 때까지 주기적으로 확인(폴링)합니다.
- Asynchronous Blocking I/O: 일반적으로 사용되지 않지만 I/O 멀티플렉싱을 설명할 때 사용될 수 있습니다. 프로그램이 여러 I/O 작업을 동시에 모니터링하고, 준비된 I/O 작업이 있을 때까지 기다리다가 준비된 I/O가 발생하면 해당 작업만 처리합니다.
- Asynchronous Non-Blocking I/O : I/O 작업을 요청하고, 작업의 완료를 기다리지 않고 바로 다음 작업으로 넘어갑니다. I/O 작업의 완료는 콜백, 이벤트, 프로미스 등을 통해 비동기적으로 알려집니다.

## 예시

위에 표는 이해하기 다소 어려운 개념입니다. 예시를 통해 살펴보겠습니다.
우리는 레스토랑(컴퓨터 시스템) 에서 주문을 하려고 합니다. 이때 4가지 유형을 다음과 같이 정의할 수 있습니다.

- **Synchronous Blocking I/O:** 레스토랑에서 주문을 하고, 음식이 나올 때까지 기다리는 상황입니다. 음식이 준비되기 전에는 다른 일을 할 수 없으며, 주문한 음식이 나올때까지 기다리며 테이블에서 기다립니다.
- **Synchronous Non-Blocking I/O:** 레스토랑에서 주문을 하고 음식이 준비되지 않았다는 말을 듣습니다. 이후 주기적으로 웨이터에게 음식이 준비되었는지 물어보며, 대기하는 동안 다른 활동(ex: 폰 게임)을 합니다. 이는 '폴링'에 비유됩니다.
- **Asynchronous Blocking I/O:** 여러 레스토랑에 동시에 주문을 하고, 첫 번째로 준비된 음식을 받기 위해 어느 한 레스토랑 앞에서 기다리는 상황입니다. 이 경우 다른 레스토랑에서 음식이 준비되어도, 이미 첫 번째 레스토랑의 음식 준비를 기다리고 있기 때문에 이를 받을 수 없습니다.
- **Asynchronous Non-Blocking I/O:** 레스토랑에 주문을 하고 바로 자리를 떠나 다른 활동을 합니다. 음식이 준비되면 웨이터가 당신을 찾아와 알려주거나 호출기가 울려 음식이 준비되었음을 알립니다. 여기서는 음식이 준비되는 동안 다른 일을 자유롭게 할 수 있으며, 준비된 음식에 대한 연락을 받은 후 마음에 내킬 때 음식을 찾으러 갑니다.

---

> 참고

- https://www.youtube.com/watch?v=IdpkfygWIMk
- https://www.youtube.com/watch?v=oEIoqGd-Sns
- https://www.youtube.com/watch?v=XNGfl3sfErc
- https://www.youtube.com/watch?v=H01FkDtllwc
