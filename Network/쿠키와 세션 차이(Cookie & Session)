# 쿠키와 세션 차이(Cookie & Session)


### 사전지식

http는 다음의 두 가지 특징을 지닌다.
Connectionless(비연결성): 서버와 클라이언트의 관계에서 클라이언트의 요청 후 서버가 응답하면 그 연결을 종료하는 특징
Stateless(무상태성): 서버가 클라이언트의 상태를 기억하지 않는 특징

즉 요청과 요청의 연결이 없다. 이때 요청을 할 때마다 클라이언트의 정보를 알려주는 방법으로는 쿠키, 세션 등이 있다.

---

## 쿠키

http에 사용되는 작은 데이터 조각으로 클라이언트의 웹 브라우저에 저장된다.

### 쿠키의 동작 순서

1. 사이트 방문 시 브라우저는 서버에 요청을 보냄
2. 서버는 쿠키를 생성해 응답과 함께 쿠키를 보낸다
3. 해당 사이트에 요청할 때 쿠키를 함께 보낸다.

### 쿠키의 특징

1. 서버가 정한 유효기간이 있다.
2. 쿠키는 도메인에 따라서 제한된다.
3. 브라우저는 보통 300개의 쿠키를 저장할 수 있고 이를 넘을 시 오래된 쿠키부터 삭제된다.
4. 하나의 쿠키는 보통 4KB로 제한되어 있다.

---

## 세션

일정 시간 동안 같은 사용자로부터 들어오는 일련의 요구를 하나의 상태로 보고 그 상태를 유지시키는 기술.

### 세션의 동작 순서

1. 사이트에 로그인을 한다.
2. 사용자 정보가 맞다면 서버는 세션 DB에 유저정보를 생성 후 세션 ID를 클라이언트에게 쿠키를 통해 보낸다.
3. 이후 클라이언트가 서버에 요청시 쿠키에 담긴 세션 ID로 서버는 클라이언트에 대한 정보를 가지고 요청을 처리 후 응답한다.

### 세션의 특징

1. 저장 데이터에 제한이 없다.
2. 브라우저를 닫거나 서버에서 세션을 삭제했을 때만 삭제가 된다.
3. 서버에 저장되는 쿠키이다.

---

### 쿠키와 세션의 차이

1. 쿠키는 브라우저에 세션은 서버에 저장된다.
2. 사용자 로컬에 저장되는 쿠키와 달리 세션은 쿠키에 저장되는 정보가 세션 ID가 유일하기 때문에 일반적으로 보안성이 더 높다.
3. 쿠키는 만료기간이 있지만 파일로 저장되어 브라우저를 종료해도 정보가 유지된다. 세션도 만료기간을 정할 수 있지만 브라우저 종료시 만료기간 상관없이 삭제된다.


### 참고
- https://www.youtube.com/watch?v=tosLBcAX1vk&t=153s
- https://hec-ker.tistory.com/368
- https://dev-coco.tistory.com/61
